import{j as e,J as T,E as L,M as k,r as n,a1 as E,I,K as x,S as l,W as m,X as P}from"./index-DKbp2UwH.js";import{c as Y,E as R,u as U,L as _,D as j,M as W,F as G,a as h,w as H}from"./xlsx-B0cyUCTz.js";import{S as K}from"./Selector-BFWS1G_L.js";import{d as D,A as N}from"./AdapterDayjs-CMp3iytS.js";import{T as S}from"./TextField-CAZeGqIm.js";import"./Close-DxlvVV1J.js";import"./ExpandMore-BKPEomH0.js";import"./MenuItem-CUzygGh9.js";import"./Tooltip--gQlYNnD.js";import"./Radio-BDRrsjfA.js";import"./Select-DXEYk5hW.js";import"./Divider-C2Nljz5u.js";const s=Y(),J=[s.accessor("loginId",{header:"Login Id",size:120}),s.accessor("name",{header:"Name",size:150}),s.accessor("email",{header:"Email",size:150}),s.accessor("mobile",{header:"Mobile",size:150}),s.accessor("BUSDBalance",{header:"Main balance"}),s.accessor("totalStakedBalance",{header:"Total staked balance"}),s.accessor("TRADEBalance",{header:"Trade balance"}),s.accessor("AFFLIATEBalance",{header:"Affliate balance"}),s.accessor("PACKAGEBalance",{header:"Package balance"}),s.accessor("createdAt",{header:"Registration Date",size:250,Cell:({row:o})=>e.jsx(T,{children:new Date(o.original.createdAt).toLocaleString()})}),s.display({header:"Action",size:50,Cell:({row:o})=>{const i=L();return e.jsx(k,{onClick:()=>i(`/dashboard/userManagement/editUser/${o.original._id}`),children:e.jsx(R,{})})}})],Q=o=>{const i=h.json_to_sheet(o),c=h.book_new();h.book_append_sheet(c,i,"Sheet1"),H(c,"transactionList.xlsx")};function ne(){var g,f;const[o,i]=n.useState({pageIndex:0,pageSize:10}),[c,C]=n.useState(""),[t,w]=n.useState({greaterThan:"",lessThan:"",type:"",fromDate:null,toDate:null}),z=t.fromDate?D(t.fromDate).format("YYYY-MM-DD"):void 0,y=t.toDate?D(t.toDate).format("YYYY-MM-DD"):void 0,{data:r,isLoading:v,isError:p}=E({page:o.pageIndex+1,sizePerPage:o.pageSize,search:c,...t,startDate:z,endDate:y});console.log(p);const u=((g=r==null?void 0:r.data)==null?void 0:g.docs)||[],A=n.useMemo(()=>J,[]),F=n.useMemo(()=>u,[u]),d=n.useCallback((a,b)=>{console.log(a,b),w(B=>({...B,[a]:b}))},[]),M=U({columns:A,data:F,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:((f=r==null?void 0:r.data)==null?void 0:f.totalDocs)||0,state:{pagination:o,isLoading:v,showAlertBanner:p,search:c},onPaginationChange:i,onGlobalFilterChange:C,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:()=>e.jsx(x,{sx:{display:"flex",gap:2,padding:1,flexWrap:"wrap"},children:e.jsx(P,{variant:"contained",onClick:()=>Q(transactionsListData),startIcon:e.jsx(G,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none",bgcolor:"primary.main","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(I,{sx:{mt:"100px"},children:[e.jsx(T,{variant:"h5",fontWeight:700,fontSize:"1.8rem",mb:4,children:"User list"}),e.jsxs(x,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:2,flexWrap:"wrap",mb:4},children:[e.jsxs(x,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2},children:[e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"Greater than"}),e.jsx(S,{type:"number",size:"small",value:t.greaterThan,onChange:a=>d("greaterThan",a.target.value)})]}),e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"Less than"}),e.jsx(S,{type:"number",size:"small",value:t.lessThan,onChange:a=>d("lessThan",a.target.value)})]}),e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"Type"}),e.jsx(K,{items:["BUSDBalance","totalStakedBalance"],value:t.type,onChange:a=>d("type",a.target.value),width:{xs:"100%",sm:200}})]})]}),e.jsx(_,{dateAdapter:N,children:e.jsxs(x,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"From"}),e.jsx(j,{value:t.fromDate,onChange:a=>d("fromDate",a),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]}),e.jsxs(l,{children:[e.jsx(m,{sx:{mb:.5,fontSize:12},children:"To"}),e.jsx(j,{value:t.toDate,onChange:a=>d("toDate",a),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]})]})})]}),e.jsx(l,{sx:{mt:4,borderRadius:2,overflow:"hidden"},children:e.jsx(W,{table:M})})]})}export{ne as default};
