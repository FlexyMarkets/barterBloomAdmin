import{t as A,v as j,i as D,k as R,w as I,x as k,j as e,S as o,C as q,T as t,n as G,G as n,o as m,B as P,p as W,q as b}from"./index-BWtbNFs0.js";import{D as B}from"./Divider-DXKpzQgs.js";import{T as g}from"./TextField-BlOSjD-L.js";import"./dividerClasses-p4V02u-N.js";import"./Select-CbvnhIHS.js";import"./Menu-BfME0a2c.js";import"./List-DbLTnloQ.js";import"./FormControl-eaAdJI2X.js";const E=A({amount:j().trim().min(1,"Please type your transfer amount"),referralCode:j().trim().min(1,"Please type your referral code")});function O(){var x,p;const d=D(),l={referralCode:"",amount:""},{register:u,handleSubmit:y,watch:S,reset:v,formState:{errors:s}}=R({resolver:W(E),defaultValues:l}),c=S("referralCode"),{data:a,isError:w,error:i}=I({referralCode:c},{skip:!c}),C=w?(x=i==null?void 0:i.data)==null?void 0:x.message:(p=a==null?void 0:a.data)==null?void 0:p.name,[z,{isLoading:F}]=k(),T=async f=>{var h;console.log(f);try{const r=await z(f).unwrap();r!=null&&r.status&&(v(l),d(b({open:!0,message:r==null?void 0:r.message,severity:"success"})))}catch(r){r!=null&&r.data&&d(b({open:!0,message:((h=r==null?void 0:r.data)==null?void 0:h.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(o,{mt:"100px",children:e.jsxs(q,{children:[e.jsx(t,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Add fund"}),e.jsxs(G,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(t,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(B,{sx:{my:"1.2rem"}}),e.jsxs(o,{gap:"2rem",component:"form",onSubmit:y(T),children:[e.jsxs(n,{container:!0,size:12,spacing:2,children:[e.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[e.jsx(m,{sx:{mb:".5rem"},children:"Referral ID *"}),e.jsx(g,{...u("referralCode",{require:!0}),size:"small",fullWidth:!0,placeholder:"Referral ID *",variant:"outlined"}),s.referralCode&&e.jsx(t,{color:"error",fontSize:"13px",children:s.referralCode.message}),e.jsx(m,{sx:{mb:".5rem"},children:C})]}),e.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[e.jsx(o,{sx:{flexDirection:"row",justifyContent:"space-between"},children:e.jsx(m,{sx:{mb:".5rem"},children:"Amount *"})}),e.jsx(g,{...u("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),s.amount&&e.jsx(t,{color:"error",fontSize:"13px",children:s.amount.message})]})]}),e.jsx(P,{variant:"contained",size:"small",type:"submit",disabled:F,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})})}export{E as addFundSchema,O as default};
