import{j as e,J as S,E,M as I,r as n,a1 as k,I as B,K as m,S as i,W as x,X as P}from"./index-DnJX0o2f.js";import{c as Y,E as R,u as U,L as _,D as j,M as W,F as H,a as h,w as G}from"./xlsx-suSZ0i5M.js";import{S as p}from"./Selector-BjyZeoKH.js";import{d as D,A as N}from"./AdapterDayjs-BkxX2rwH.js";import"./Close-CQy3dKBU.js";import"./ExpandMore-D_61eCRe.js";import"./MenuItem-BuFA0ty6.js";import"./Tooltip-D_08rPN6.js";import"./Radio-1K5N1jTV.js";import"./TextField-NIQczD1o.js";import"./Select-BoGkIfGs.js";import"./Divider-zBJBtrzW.js";const t=Y(),J=[t.accessor("loginId",{header:"Login Id",size:120}),t.accessor("name",{header:"Name",size:150}),t.accessor("email",{header:"Email",size:150}),t.accessor("mobile",{header:"Mobile",size:150}),t.accessor("BUSDBalance",{header:"Main balance",size:50}),t.accessor("TRADEBalance",{header:"Trade balance",size:50}),t.accessor("AFFLIATEBalance",{header:"Affliate balance",size:50}),t.accessor("airDorpLevel",{header:"Air dorp level",size:50}),t.accessor("createdAt",{header:"Registration Date",size:250,Cell:({row:o})=>e.jsx(S,{children:new Date(o.original.createdAt).toLocaleString()})}),t.display({header:"Action",size:50,Cell:({row:o})=>{const l=E();return e.jsx(I,{onClick:()=>l(`/dashboard/userManagement/editUser/${o.original._id}`),children:e.jsx(R,{})})}})],K=o=>{const l=h.json_to_sheet(o),c=h.book_new();h.book_append_sheet(c,l,"Sheet1"),G(c,"transactionList.xlsx")};function re(){var g,f;const[o,l]=n.useState({pageIndex:0,pageSize:10}),[c,w]=n.useState(""),[s,z]=n.useState({greaterThan:"",lessThan:"",type:"",fromDate:null,toDate:null}),T=s.fromDate?D(s.fromDate).format("YYYY-MM-DD"):void 0,C=s.toDate?D(s.toDate).format("YYYY-MM-DD"):void 0,{data:r,isLoading:v,isError:y}=k({page:o.pageIndex+1,sizePerPage:o.pageSize,search:c,...s,startDate:T,endDate:C}),u=((g=r==null?void 0:r.data)==null?void 0:g.docs)||[],M=n.useMemo(()=>J,[]),A=n.useMemo(()=>u,[u]),d=n.useCallback((a,b)=>{console.log(a,b),z(L=>({...L,[a]:b}))},[]),F=U({columns:M,data:A,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:((f=r==null?void 0:r.data)==null?void 0:f.totalDocs)||0,state:{pagination:o,isLoading:v,showAlertBanner:y,search:c},onPaginationChange:l,onGlobalFilterChange:w,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:()=>e.jsx(m,{sx:{display:"flex",gap:2,padding:1,flexWrap:"wrap"},children:e.jsx(P,{variant:"contained",onClick:()=>K(transactionsListData),startIcon:e.jsx(H,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none",bgcolor:"primary.main","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(B,{sx:{mt:"100px"},children:[e.jsx(S,{variant:"h5",fontWeight:700,fontSize:"1.8rem",mb:4,children:"User list"}),e.jsxs(m,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:2,flexWrap:"wrap",mb:4},children:[e.jsxs(m,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2},children:[e.jsxs(i,{children:[e.jsx(x,{sx:{mb:.5,fontSize:12},children:"Greater than"}),e.jsx(p,{items:[],value:s.greaterThan,onChange:a=>d("greaterThan",a.target.value),width:{xs:"100%",sm:200}})]}),e.jsxs(i,{children:[e.jsx(x,{sx:{mb:.5,fontSize:12},children:"Less than"}),e.jsx(p,{items:[],value:s.lessThan,onChange:a=>d("lessThan",a.target.value),width:{xs:"100%",sm:200}})]}),e.jsxs(i,{children:[e.jsx(x,{sx:{mb:.5,fontSize:12},children:"Type"}),e.jsx(p,{items:[],value:s.type,onChange:a=>d("type",a.target.value),width:{xs:"100%",sm:200}})]})]}),e.jsx(_,{dateAdapter:N,children:e.jsxs(m,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(i,{children:[e.jsx(x,{sx:{mb:.5,fontSize:12},children:"From"}),e.jsx(j,{value:s.fromDate,onChange:a=>d("fromDate",a),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]}),e.jsxs(i,{children:[e.jsx(x,{sx:{mb:.5,fontSize:12},children:"To"}),e.jsx(j,{value:s.toDate,onChange:a=>d("toDate",a),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]})]})})]}),e.jsx(i,{sx:{mt:4,borderRadius:2,overflow:"hidden"},children:e.jsx(W,{table:F})})]})}export{re as default};
