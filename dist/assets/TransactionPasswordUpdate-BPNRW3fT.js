import{Y as I,r as u,C as P,aw as z,aG as T,j as s,S as v,J as i,ay as U,W as x,ai as C,aD as E,M as F,aE as W,aF as k,X as A,aA as B,aB as h,at as D,av as w}from"./index-DKbp2UwH.js";import{G as n}from"./Grid2-DvFANSnJ.js";import{T as G}from"./TextField-CAZeGqIm.js";import"./MenuItem-CUzygGh9.js";import"./Select-DXEYk5hW.js";const V=D({userId:w().trim().min(1,"Please type your id"),password:w().trim().min(1,"Please type your transaction password")});function R(){const{id:a}=I(),[t,f]=u.useState(!1),b=()=>f(o=>!o),d=P(),l={userId:a||"",password:""},{register:c,handleSubmit:g,reset:m,formState:{errors:r}}=z({resolver:B(V),defaultValues:l});u.useEffect(()=>{m({userId:a&&a})},[a]);const[j,{isLoading:y}]=T(),S=async o=>{var p;try{const e=await j(o).unwrap();e.status&&(d(h({open:!0,message:e==null?void 0:e.message,severity:"success"})),m(l))}catch(e){e!=null&&e.data&&d(h({open:!0,message:((p=e==null?void 0:e.data)==null?void 0:p.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return s.jsxs(v,{mt:"2rem",children:[s.jsx(i,{variant:"h5",fontWeight:"bold",mb:"2rem",children:"Change transaction password"}),s.jsxs(U,{component:"form",sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"1rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},onSubmit:g(S),children:[s.jsxs(n,{container:!0,size:12,spacing:2,children:[s.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[s.jsx(x,{sx:{mb:".5rem"},children:"User ID"}),s.jsx(G,{disabled:!0,...c("userId",{required:!0}),size:"small",fullWidth:!0}),r.userId&&s.jsx(i,{color:"error",children:r.userId.message})]}),s.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[s.jsx(x,{sx:{mb:".5rem"},children:"New password"}),s.jsx(C,{...c("password",{required:!0}),size:"small",placeholder:"********",fullWidth:!0,type:t?"text":"password",endAdornment:s.jsx(E,{position:"end",children:s.jsx(F,{"aria-label":t?"hide the password":"display the password",onClick:b,edge:"end",children:t?s.jsx(W,{sx:{color:"#8703ef",fontSize:"20px"}}):s.jsx(k,{sx:{color:"#8703ef",fontSize:"20px"}})})})}),r.password&&s.jsx(i,{color:"error",children:r.password.message})]})]}),s.jsx(A,{type:"submit",size:"small",disabled:y,variant:"contained",sx:{mt:"1.5em",textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Update"})]})]})}export{R as default};
